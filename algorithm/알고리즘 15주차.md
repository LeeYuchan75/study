## NP 완비 

### 개념 정리 

**Class P** : 다항식 시간 내에 답을 찾을 수 있는 문제들의 집합 (알고리즘 파트에서 지금까지 다루어 온 많은 문제들이 여기에 속함)

**Class NP** : NP란 Nondeterministic Polynomial의 줄임말로써 (non p가 아님), 해당 의미를 설명하기엔 복잡하나 **해답이 주어진 경우 다항식 시간 이내에 검증 가능한 문제**로 볼 수 있음

<br/>

### P 문제 예시

두 수 A, B가 주어졌을 때, A + B = C 인가?

- 입력: A = 135, B = 229, C = 364

- 컴퓨터는 바로 덧셈 수행 → "Yes" 또는 "No" 출력

- 이건 단순 계산이므로 O(1)~O(n) 정도면 됨 → P 문제

<br/>

### NP 문제 예시

어떤 정수 집합이 있을 때, 이 중 일부를 더해서 정확히 K가 되는 부분집합이 존재하는가?

- 입력: {3, 9, 8, 4, 5, 7}, K = 15

- 이걸 무작정 탐색하면 경우의 수가 2ⁿ → 직접 구하는 건 매우 오래 걸림

<br/>

그런데 누가 아래와 같이 해답을 줬다고 하자:

- "정답은 {8, 7}이야"

- 그러면 합이 15인지 확인하는 건 금방 가능 → 8 + 7 = 15 

→ 검증은 빠르다 = NP 문제

<br/>

Class NP는 class P를 포함하고 있으나, 아래의 그림처럼 **P와 NP 두 군의 포함관계가 정확히 어떤지 증명된 바는 없음** 다만, 경험적으로 **대부분 P에 속하지 않는 NP 문제들이 있다고 추정 중**

![image](https://github.com/user-attachments/assets/9ae6e05e-fda7-4c8e-abfd-5d68aaadac5a)

<br/>

## 문제의 종류 

### 해당 파트는 난해한 개념이 많음을 유의 

풀 수 있는 문제들은 **현실적인 시간** 복잡도 내에 풀 수 있는지, 아닌지 여부에 따라 나뉨

![image](https://github.com/user-attachments/assets/d372a899-6dd1-4c1b-ab05-aa8272225607)

- 현실적인 시간 안에 풀 수 있음 → P 문제

- 현실적으로는 너무 오래 걸려서 못 풂 → NP-완비 문제 등

<br/>

여기서 **현실적인 시간 복잡도**라고 설정하는 기준은 **다항식 복잡도(다항식 시간에 푸는 것)를 기준**으로 함

![image](https://github.com/user-attachments/assets/862f5703-bf0f-4fdf-9517-55f94aee5e2d)

지수 복잡도 및 계승 복잡도 등의 다항식 복잡도를 초과하는 경우에는 **비현실적인 시간 복잡도로 간주함** (ex:  2ⁿ이나 n!는 현실적이지 않음)

만약, 다항식 복잡도라고 해도 n¹⁰⁰과 같이 너무 크면 실제로 사용하기 힘든 시간 복잡도지만 일반적으로는 차수가 높아도 n⁶을 넘는 경우가 드물기 때문에 다항식 복잡도를 현실적인 시간 복잡도 기준으로 잡는다고 생각하면 됨

<br/>

## 결정 문제 및 최적화 문제

컴퓨터 과학에서 다루는 문제의 종류는 크게 **결정 문제**와 **최적화 문제**로 구분할 수 있음

**결정 문제** : 결과가 Yes/No로 나오는 문제 (ex: n개의 지점을 모두 방문하고 돌아오는 거리 K 이하의 경로가 존재하는가?)

**최적화 문제** : 결과가 가능한 출력들 중 가장 좋은 해로 나오는 문제 (ex: n개의 지점을 모두 방문하고 돌아오는 최단 거리를 구하라)

<br/>

**NP-완비 이론**은 결정 문제만 다루지만, 최적화 문제는 NP-완비 이론 적용을 위해 그에 해당하는 결정 문제로 미리 변환 가능함

쉽게 말해 NP-완비 이론은 예/아니오 문제만 다루지만, 최적화 문제도 예/아니오 문제로 바꿔서 NP-완비 이론을 적용할 수 있다는 의미

<br/>

## 다항식 시간 변환

문제 A는 쉬운(다항식 시간 안에 풀 수 있는) 상황일 때, 다항식 시간 안에 A로부터 변환(reduction)할 수 있는 문제 B가 있다고 가정하자 

쉽게 말해, 문제 A는 빨리 풀 수 있다고 가정하고, 문제 A를 어떤 방법으로 문제 B로 바꿀 수 있다고 하자

**예시**

![image](https://github.com/user-attachments/assets/30bcedbb-7670-4c41-a3a6-169b188b79b8)

즉, B의 결과가 Yes/No일 때 문제 A에서도 같은 결과가 나오는 상황이다 

그러면 만약 문제 B를 다항식 시간 내에 풀 수 있다면, 문제 변환 시간도 다항식 시간 내에 가능하므로 문제 A 또한 다항식 시간 내에 풀 수 있는(쉬운) 문제이다

이것을 공식으로 살펴보자 

![IMG_3362](https://github.com/user-attachments/assets/de02f442-ad10-4448-81a6-f0ae15356374)

<br/>

만약 어느 정도 어려운지 모르는 문제 B가 있다고 하면, 유명한 난제군인 NP-완비군에 속하는 문제를 문제 A로 놓고 A를 B로 변환할 수 있다면, 문제 B는 NP-하드라는 굉장히 어려운 문제군에 속함 (NP 하드 개념은 아래에 있음)

## 수업시간 내용 : NP 하드 문제에서는 NP가 아닌 문제가 존재, 하지만 이것은 P는 아님 

<br/>

## NP 완비

**NP-완비 문제** : 효율적으로 정답을 찾을 수 있는 알고리즘을 발견할 수 없는 문제, 답이 존재하는지도 모름 -> 답이 있냐 없냐를 결정하는 문제

따라서, NP-완비 문제에 대해 최적해를 구하기 위한 효율적인 알고리즘을 구상하는 것은 현재까지 알려지기로는 시간만 허비하는 행동에 가까우며 일반적으로는 **최적해에 가까운 해**를 효율적으로 근사하는 알고리즘을 개발하는데 중점을 둠

쉽게 말해, NP-완비 문제를 완벽하게 푸는 알고리즘을 찾으려 하기보단, **정답에 가까운 괜찮은 해답**을 빠르게 구하는 **근사 알고리즘**을 만드는 데에 집중한다는 의미이다

<br/>

다음은 NP 완비를 이해하기 위한 쉬운 예시이다 

![image](https://github.com/user-attachments/assets/89cd818a-1665-4e8b-9c5a-926ef30b8942)

## NP-하드 문제 

- **NP-하드 문제** : 모든 NP 문제들로부터 다항식 시간에 변환할 수 있는 문제 집합

- NP-하드 문제에서는 NP, 즉 주어진 해답을 **선형 시간 내에 검증할 수 없는 문제**도 포함되어 있음

-  NP-하드는 NP-완비를 포함하고 있으므로, **NP-완비 문제를 NP-하드라고 표현하는 것**은 가능, 즉, NP 하드 문제에서는 **NP가 아닌 문제가 존재하지만 이것은 P가 아니다**

<br/>

쉽게 말해서 NP 하드는 모든 NP 문제를 문제 A로 바꿔서 풀 수 있다면, 문제 A만 풀 수 있어도 모든 NP 문제를 풀 수 있다는 의미이다

따라서, 문제 A가 NP의 대표이자, 가장 어려운 핵심 문제처럼 작동한다는 의미

<br/>

NP 완비 문제들은 겉보기에는 다 달라도, 본질적으로 같은 ‘계산적 핵심’을 공유한다 그래서 하나만 다항식 시간에 풀리면, 변환을 통해 모두 다 풀 수 있는 것이다 

<br/>

### NP-완비 조건

![IMG_3421](https://github.com/user-attachments/assets/cc948969-81f7-4c48-80f0-22e2c237f281)

정리와 같이 문제 A가 두 가지 조건을 만족해야 NP-완비 문제가 된다 

1. **A는 NP이다**

2. **A는 NP하드이다**

<br/>

### NP-완비를 증명하려면, NP-하드임을 먼저 보여야 한다

![image](https://github.com/user-attachments/assets/8eb525c4-9d0a-45e6-b78c-b1355bdb433c)

NP-하드 문제의 개념만 보면, 어떤 문제가 NP-하드임을 보이려면 **모든 NP 문제로부터 다항식 시간 변환이 가능함**을 보여야 한다. 하지만 **이건 현실적으로 불가능**에 가깝다 (NP 문제는 무한히 많음)

그래서 우리는 **이미 NP-하드로 알려진 대표 문제로**부터 **해당 문제를 다항식 시간에 변환**해 주면 됨

<br/>

### 증명 비유 

- 어떤 수학 문제가 진짜 어려운 문제인지 증명하려면, 전 세계 수학 문제 전부랑 비교하는 것 → 너무 어려움

- 이미 엄청 어려운 문제로 인정된 문제랑 비교해서 그걸 이 문제로 바꿀 수 있음을 보임 → 그러면 이 문제도 충분히 어렵다고 인정됨 → NP-하드









































